"use strict";(self.webpackChunkldo_docs=self.webpackChunkldo_docs||[]).push([[1227],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>f});var o=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=o.createContext({}),c=function(e){var t=o.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=c(e.components);return o.createElement(s.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},h=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,s=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),u=c(n),h=r,f=u["".concat(s,".").concat(h)]||u[h]||d[h]||a;return n?o.createElement(f,l(l({ref:t},p),{},{components:n})):o.createElement(f,l({ref:t},p))}));function f(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,l=new Array(a);l[0]=h;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i[u]="string"==typeof e?e:r,l[1]=i;for(var c=2;c<a;c++)l[c]=n[c];return o.createElement.apply(null,l)}return o.createElement.apply(null,n)}h.displayName="MDXCreateElement"},661:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>u,frontMatter:()=>a,metadata:()=>i,toc:()=>c});var o=n(7462),r=(n(7294),n(3905));const a={sidebar_position:2},l="01-Frontend",i={unversionedId:"RoboShop-Project/frontend",id:"RoboShop-Project/frontend",title:"01-Frontend",description:"The frontend is the service in RoboShop to serve the web content over Nginx. This will have the webframe for the web application.",source:"@site/docs/RoboShop-Project/frontend.md",sourceDirName:"RoboShop-Project",slug:"/RoboShop-Project/frontend",permalink:"/learndevopsonline/build/docs/RoboShop-Project/frontend",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/RoboShop-Project/frontend.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Project Overview",permalink:"/learndevopsonline/build/docs/RoboShop-Project/project-overview"},next:{title:"02-MongoDB",permalink:"/learndevopsonline/build/docs/RoboShop-Project/mongodb"}},s={},c=[],p={toc:c};function u(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,o.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"01-frontend"},"01-Frontend"),(0,r.kt)("p",null,"The frontend is the service in RoboShop to serve the web content over Nginx. This will have the webframe for the web application."),(0,r.kt)("p",null,"This is a static content and to serve static content we need a web server. This server"),(0,r.kt)("p",null,"Developer has chosen Nginx as a web server and thus we will install Nginx Web Server. "),(0,r.kt)("p",null,"Install Nginx "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"yum install nginx -y \n")),(0,r.kt)("p",null,"Start & Enable Nginx service "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"systemctl enable nginx \nsystemctl start nginx \n")),(0,r.kt)("p",null,"\ud83d\udca1 Try to access the service once over the browser and ensure you get some default content."),(0,r.kt)("p",null,"Remove the default content that web server is serving. "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"rm -rf /usr/share/nginx/html/* \n")),(0,r.kt)("p",null,"Create Nginx Reverse Proxy Configuration."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"vim /etc/nginx/default.d/roboshop.conf \n")),(0,r.kt)("p",null,"Add the following content "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-nginx",metastring:"configuration title=/etc/nginx/default.d/roboshop.conf",configuration:!0,title:"/etc/nginx/default.d/roboshop.conf"},"proxy_http_version 1.1;\nlocation /images/ {\n  expires 5s;\n  root   /usr/share/nginx/html;\n  try_files $uri /images/placeholder.jpg;\n}\nlocation /api/catalogue/ { proxy_pass http://localhost:8080/; }\nlocation /api/user/ { proxy_pass http://localhost:8080/; }\nlocation /api/cart/ { proxy_pass http://localhost:8080/; }\nlocation /api/shipping/ { proxy_pass http://localhost:8080/; }\nlocation /api/payment/ { proxy_pass http://localhost:8080/; }\n\nlocation /health {\n  stub_status on;\n  access_log off;\n}\n")),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"Ensure you replace the ",(0,r.kt)("inlineCode",{parentName:"p"},"localhost")," with the actual ip address of those component server. Word ",(0,r.kt)("inlineCode",{parentName:"p"},"localhost")," is just used to avoid the failures on the Nginx Server.")),(0,r.kt)("p",null,"Restart Nginx Service to load the changes of the configuration."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"systemctl restart nginx \n")))}u.isMDXComponent=!0}}]);